---
title: "Final Project" 
subtitle: "Stat 184"
author: "Tre Butler, Phil Saroka, Jessica Schick"
output: html_notebook
---

## Front Matter

```{r}
# clean up workspace environment
rm(list = ls())

# all packages used for the assignment
library(mosaicData)
library(mosaic)
library(DataComputing)
library(tidyverse)
library(forcats)
library(lubridate)
library(readxl)
```

### Research Question

How have outside factors like weather and time affected crime rates in Boston?

### Data Sources

1. Where did you find them?

* Boston crime rates data - https://www.kaggle.com/ankkur13/boston-crime-data

* Boston weather data - Global Historical Climatology Network


2. Who collected/maintains them?

* Boston crime rates data - A man named AnkurJain formed the dataset on Kaggle, but the information to create the dataset comes from the Boston Police Department

* Boston weather data - The GHCN gathers itâ€™s data from many sources including the World Meteorological Organization


3. When & Why were they originally collected?

* Boston crime rates data - The dataset started in 2015 and was originally collected to find trends in crime statistics.

* Boston weather data - The GHCN has kept weather statistics for many places for the past 30 years. They are collected for convenience to those who need to study trends in the weather.


4. What does a case represent in each data source, and how many total cases are available?

* Boston crime rates data - each case represent an Incident Number and there are a total of 260,760 cases available to use

* Boston weather data - each case represent the Date of the Year and there are a total of 1,221 cases available to use


5. What are some of the variables that you plan to use?

* Boston crime rates data - Incident Number, Occurred on Date, Year, Month, Day of the Week, Hour, UCR Part, Street, Latitude, Longitude, Location, Offense Code

* Boston weather data - Name, Latitude, Longitude, Date, Precipitation, Snow, Temperature Average


### Plots, Summary Statistics, and Observations

### TWO Data Sources (at least)

#DATA

```{r}
#creating the datasets
boston_crime_statistics <- read_excel("crime.xlsx")
weather_data <- read_csv("weather data.csv")
weather_data <- weather_data%>%
  select(NAME,LATITUDE,LONGITUDE,DATE,PRCP, TAVG,SNOW)
```

```{r}
boston_crime_statistics
```
```{r}
weather_data
```
```{r}
all_stats <- cbind(boston_crime_statistics,weather_data)
```

```{r}
date_of_incident <- boston_crime_statistics%>%
  select(INCIDENT_NUMBER,OCCURRED_ON_DATE,YEAR,MONTH,DAY_OF_WEEK,HOUR)%>%
  arrange(OCCURRED_ON_DATE)
loaction_of_incident <- boston_crime_statistics%>%
  select(INCIDENT_NUMBER,OCCURRED_ON_DATE,UCR_PART,STREET,Lat,Long, Location)%>%
  arrange(OCCURRED_ON_DATE)
```

```{r}
date_of_incident
```
```{r}
loaction_of_incident
```

```{r}
#date ranges
first_date<-boston_crime_statistics%>%
  select(OCCURRED_ON_DATE,YEAR,MONTH,DAY_OF_WEEK,HOUR)%>%
  arrange(OCCURRED_ON_DATE)%>%
  head(1)

last_date<-boston_crime_statistics%>%
  select(OCCURRED_ON_DATE,YEAR,MONTH,DAY_OF_WEEK,HOUR)%>%
  arrange(OCCURRED_ON_DATE)%>%
  tail(1)
first_date
last_date
```

```{r}
#number of day over which the data is recorded
last_date[1, "OCCURRED_ON_DATE"]-first_date[1, "OCCURRED_ON_DATE"]
```
```{r}
small_data <- boston_crime_statistics%>%
  group_by(OFFENSE_CODE)%>%
  summarise(total = n())
```
```{r}
ggplot(data=small_data,aes(x=OFFENSE_CODE,y=total))+geom_point()
```
